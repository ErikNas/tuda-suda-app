# Tuda-Suda App

–î–µ—Å–∫—Ç–æ–ø-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ä–µ–¥.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11 –∏–ª–∏ 3.12
- Poetry

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
poetry install
poetry run python src/main.py
```

## –°–±–æ—Ä–∫–∞

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `distribution/`.

### üê≥ Docker-—Å–±–æ—Ä–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ Linux-—Å–∏—Å—Ç–µ–º–∞–º–∏ (GLIBC 2.31+):

```bash
cd distribution
./build_in_docker.sh
# –†–µ–∑—É–ª—å—Ç–∞—Ç: distribution/dist-docker/
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Docker

### üíª –ù–∞—Ç–∏–≤–Ω–∞—è —Å–±–æ—Ä–∫–∞

–ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã:

```bash
cd distribution
./build_native.sh
# –†–µ–∑—É–ª—å—Ç–∞—Ç: distribution/dist-native/
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Python 3.12, Poetry

### üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–°–º. `distribution/README.md`

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

`config.yaml` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ `dist/` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ. –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–æ–∑–¥–∞–π—Ç–µ `config.yaml` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. –ø—Ä–∏–º–µ—Ä –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏).

### –ü–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—â–µ—Ç `config.yaml` –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
1. –†—è–¥–æ–º —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–æ–º (–¥–ª—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
2. –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ `..` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞)
3. –í —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Dev)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ ALT Linux —Å –Ω—É–ª—è

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
sudo apt-get update

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.12 (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –±–∞–∑–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ)
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏:
python3 --version

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pipx –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ poetry
sudo apt-get install -y python3-module-pipx

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ ~/.local/bin –≤ PATH
pipx ensurepath

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
source ~/.bashrc
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Poetry

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ poetry —á–µ—Ä–µ–∑ pipx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
pipx install poetry

# –ü—Ä–æ–≤–µ—Ä–∫–∞:
poetry --version
```

#### 3. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd tuda-suda-app

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
poetry install

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
poetry run python src/main.py
```

#### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è PySide6 (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

```bash
# –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ —Å Qt/OpenGL:
sudo apt-get install -y libgl1 libxkbcommon0 libegl1
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tuda-suda-app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # Pydantic-–º–æ–¥–µ–ª–∏ –∫–æ–Ω—Ñ–∏–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Python-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è QML
‚îÇ   ‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (VPN, —Å—Ç–µ–Ω–¥—ã, —Ç–æ–∫–µ–Ω—ã, —Ä–æ–ª–∏)
‚îÇ   ‚îî‚îÄ‚îÄ qml/                 # QML-—Ñ–∞–π–ª—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ       ‚îú‚îÄ‚îÄ Main.qml
‚îÇ       ‚îî‚îÄ‚îÄ views/
‚îú‚îÄ‚îÄ config.yaml              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ pyproject.toml           # Poetry: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ poetry.lock              # Lock-—Ñ–∞–π–ª
‚îî‚îÄ‚îÄ tuda-suda.spec           # PyInstaller –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
poetry run python src/main.py

# –°–±–æ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞
poetry run pyinstaller tuda-suda.spec

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
poetry run black src/

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poetry add <package>

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poetry add --group dev <package>

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
poetry run pytest

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
poetry run pytest -v
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ poetry)

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è venv –Ω–∞–ø—Ä—è–º—É—é
source .venv/bin/activate
python src/main.py
```
